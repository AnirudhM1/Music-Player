<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/selectorpage.css" type="text/css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.4.2/css/bulma.css">
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous"> -->
    <title>Songs</title>
</head>

<body>
    <div class="box">
        <nav class="nav">
            <div class="nav-center">
                <h1 class="title is-2">Music Player</h1>
            </div>
        </nav>
    </div>

    <div id="song" class="block">
        <% songs.forEach(song=> { %>
            <article class="message" onclick="pick('<%= song.name %>')" onmouseover="hoverin('<%= song.name %>')"
                onmouseout="hoverout('<%= song.name %>')">
                <div class="message-header ">
                    <div class="title is-3" style="color: white; padding: 3px; cursor: pointer;"
                        id=<%=`name_${song.name}` %>>
                        <%= song.name %>
                    </div>
                </div>
                <div id="artist" class="message-body songartist">
                    <h1 class="subtitle is-5">Artist : <%= song.artist %>
                    </h1>
                </div>
            </article>
            <% }) %>
                <div class="message is-primary" id="selected">
                    <div class="message-header">
                        <div class="title is-3" style="padding: 3px; color: white;">Selected Songs:</div>
                    </div>
                    <div class="message-body list">
                    </div>
                </div>
</body>
<script>

    function pick(song_name) {
        let list = document.querySelector('.list');
        let item = document.createElement('div');
        let songName = document.getElementById(`name_${song_name}`).innerText;
        let addedSong = document.createTextNode(songName);
        item.appendChild(addedSong);
        list.insertBefore(item, list.childNodes[0]);
        document.getElementById(`name_${song_name}`).parentNode.parentNode.removeAttribute("onclick");
    }

    function hoverin(song_name) {
        let messageBox = document.getElementById(`name_${song_name}`).parentNode.parentNode;
        messageBox.classList.add("is-success");
    }

    function hoverout(song_name) {
        let messageBox = document.getElementById(`name_${song_name}`).parentNode.parentNode;
        messageBox.classList.remove("is-success");

    }

</script>

</body>

</html>